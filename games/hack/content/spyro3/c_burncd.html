<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<style media="all">
         @import url(/site/contentframe.css);
      </style>
   </head>
   <body>
	<p>
	<br>
	Образ диска игры Spyro 2 или 3 для Playstation после сборки с помощью CDGenPS2 запускается в эмуляторе, но не играет музыка и нет озвучки персонажей в игре.
	<br>
	Почему так происходит?
	Рассмотрим структуру образа диска. Большая часть файлов записана как MODE2 FORM2/2352 - файл поделён на блоки размером 2048 байт, к которым прилагается 24 байта заголовка и 280 байт данных для коррекции ошибок. (Так что царапина на диске не приведёт к зависанию игры. По крайней мере, пока не потеряно такое количество данных блока, что даже коррекция ошибок мало что исправит.)
	<br>
	Но один файл, SPEECH.STR, записан по-другому, и на ту же дорожку диска - так что программа создания образа диска не замечает подвоха. 24 байта заголовка блока по-прежнему на месте, но вот место для коррекции ошибок тоже использовано под данные. Таким образом, размер файла несколько больше указанного, и обычными средствами его даже прочитать затруднительно.
	<br>
	Как же его извлечь? С помощью IsoBuster, в режиме "Extract RAW Data".
	<br>
	Обратно же записать SPEECH.STR немного сложнее.
	Для начала, нам нужен пустой файл SPEECH.STR правильного размера. <br>
	<a href="https://raw.githubusercontent.com/VectorDelta/spyro3-rus/master/scripts/falsespeech.py">Скрипт для создания файла</a><br>
	Создаём образ диска с этим файлом (предварительно переименовав его в SPEECH.STR) вместо оригинала.
	<br>
	Теперь нам понадобится извлечённый ранее SPEECH.STR.<br>
	Вставляем его в полученный ранее образ с помощью <a href="https://raw.githubusercontent.com/VectorDelta/spyro3-rus/master/scripts/truespeech.py">этого скрипта</a>.
	<br>
	Всё! Работающий образ диска создан. 
	<br>
	</p>
   
</body></html>